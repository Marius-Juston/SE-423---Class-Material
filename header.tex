% ============================
% Required packages
% ============================

% \usepackage[letterpaper, total={6in, 9.5in}]{geometry}
\usepackage[
  letterpaper,
  left=0.5in,
  right=0.5in,
  top=0.5in,
  bottom=1.0in
]{geometry}


\usepackage[most]{tcolorbox}
\usepackage{booktabs}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage[
  colorlinks=true,
  linkcolor=blue,
  urlcolor=blue,
  citecolor=blue
]{hyperref}
\usepackage{lastpage}
\usepackage{listings}
\usepackage{minted}
\usepackage{setspace}
\usepackage{subcaption}
\usepackage{tabularx}
\usepackage{tikz}
\usepackage{xcolor}
\usepackage{xparse}
\usepackage[siunitx, american, RPvoltages]{circuitikz}
% Required packages:
\usepackage[table]{xcolor}
\usepackage{array}
\usepackage{array,colortbl,xcolor}
\usepackage{pdflscape}
\usepackage{pgfplots}
\usepackage{xurl}
\usetikzlibrary{arrows.meta, angles, quotes, shapes.symbols, arrows.meta}


\input{timline}
\input{icons}

% ============================
% Assignment mode resolution
% ============================

\def\CourseCode{SE 423}
\def\CourseName{Mechatronics}

\def\AssignmentType{}
\def\AssignmentFooter{}

\makeatletter
\@namedef{Assignment@HW@type}{Homework Assignment}
\@namedef{Assignment@HW@footer}{HW}

\@namedef{Assignment@Lab@type}{Laboratory Assignment}
\@namedef{Assignment@Lab@footer}{Lab}

\@namedef{Assignment@LabVIEW@type}{LabVIEW Assignment}
\@namedef{Assignment@LabVIEW@footer}{LabVIEW}

\@ifundefined{Assignment@\AssignmentMode @type}{
  \PackageError{AssignmentMode}{Invalid AssignmentMode}{%
    Valid options: HW, Lab, LabVIEW}
}{
  \edef\AssignmentType{\@nameuse{Assignment@\AssignmentMode @type}}
  \edef\AssignmentFooter{\@nameuse{Assignment@\AssignmentMode @footer}}
}
\makeatother

% ============================
% Header / footer
% ============================

\pagestyle{fancy}
\fancyhf{}
\fancyfoot[L]{// \CourseCode, \CourseName}
\fancyfoot[R]{// \AssignmentFooter~\HWNum, Page \thepage\ of \pageref{LastPage}}
\renewcommand{\headrulewidth}{0pt}

% ============================
% Title box
% ============================

\newcommand{\MakeAssignmentTitle}{
\begin{tcolorbox}[
    colback=gray!30!white,
    width=\textwidth,
    boxrule=0.8pt,
    arc=2mm,
    left=6mm,
    right=6mm,
    top=4mm,
    bottom=4mm,
    center
]
\centering
\setstretch{1.2}

\textbf{\Large \CourseCode\ \CourseName \\ \AssignmentType\ \#\HWNum}

\vspace{2mm}

\textbf{
\AssignmentText
}
\end{tcolorbox}
\vspace{0.5cm}
}

\setmintedinline{breaklines, breakafter=_}


\setminted{
  breaklines,
  breakanywhere=false,
  breakafter=\space,
  frame=lines,
  fontsize=\footnotesize,
}


\lstset{
    basicstyle=\ttfamily,   % Typewriter font for code
    breaklines=true,        % Allow breaking long lines
    columns=flexible        % Makes spacing better for inline
}

\newcounter{exercise}

\NewDocumentCommand{\Ex}{o}{
  \stepcounter{exercise}
  \section*{Exercise \theexercise
    \IfValueT{#1}{: #1} 
  }
  \addcontentsline{toc}{section}{Exercise \theexercise
    \IfValueT{#1}{: #1}}
}


\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}

\pgfplotsset{compat=1.18} 