<!DOCTYPE html>
<html lang="en" id="html-root">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SE 423 | Mechatronics Resource Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script>
        // Set Tailwind configuration to support manual class-based dark mode
        tailwind.config = {
            darkMode: 'class'
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        
        .uiuc-orange { color: #FF5F05; }
        .uiuc-blue { color: #13294B; }

        .bg-uiuc-blue { background-color: #13294B; }
        .border-uiuc-orange { border-color: #FF5F05; }
        
        .card-transition {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-transition:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        .pdf-link:hover {
            text-decoration: underline;
        }

        /* Fancy Button Style */
        .btn-course {
            background: linear-gradient(135deg, #FF5F05 0%, #e54e00 100%);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .btn-course:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(255, 95, 5, 0.3);
        }

        .btn-outline {
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.05);
            transition: all 0.2s;
        }
        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: white;
        }

        .lecture-grid::-webkit-scrollbar {
            width: 6px;
        }
        .lecture-grid::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .lecture-grid::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }

        .toggle-bg {
            background-color: #e2e8f0;
            transition: background-color 0.2s;
        }
        .dark .toggle-bg { background-color: #334155; }

        .toggle-dot {
            transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        input:checked ~ .toggle-bg {
            background-color: #FF5F05;
        }
        input:checked ~ .toggle-dot {
            transform: translateX(100%);
        }

        .dark body { background-color: #020617; }
        .dark .bg-white { background-color: #0f172a; }
        .dark .text-gray-900 { color: #f1f5f9; }
        .dark .text-gray-800 { color: #e2e8f0; }
        .dark .border-gray-200 { border-color: #1e293b; }
        .dark .text-gray-600 { color: #cbd5e1; }
        .dark .bg-gray-100 { background-color: #1e293b; }
        .dark .border-gray-100 { border-color: #334155; }

        .dark .uiuc-orange { color: #FF5F05; }
        .dark .uiuc-blue { color: #13294B; }

        .dark .text-uiuc-orange { color: #FF5F05; }
        .dark .text-uiuc-blue { color: #13294B; }
    </style>
</head>
<body class="min-h-screen">

    <!-- Navigation / Header -->
    <header class="bg-uiuc-blue text-white py-10 shadow-md relative overflow-hidden">
        <div class="absolute inset-0 opacity-10 pointer-events-none">
            <svg width="100%" height="100%"><defs><pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse"><path d="M 40 0 L 0 0 0 40" fill="none" stroke="white" stroke-width="1"/></pattern></defs><rect width="100%" height="100%" fill="url(#grid)" /></svg>
        </div>

        <!-- Theme Toggle Positioned Absolutely -->
        <div class="absolute top-6 right-6 z-20">
            <button id="theme-toggle" class="p-2.5 rounded-xl bg-white/10 hover:bg-white/20 border border-white/20 transition-all">
                <svg id="theme-toggle-light-icon" class="hidden w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"></path></svg>
                <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5 text-blue-200" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
            </button>
        </div>

        <div class="container mx-auto px-4 text-center relative z-10">
            <h1 class="text-4xl font-bold tracking-tight">SE 423: Mechatronics</h1>
            <p class="mt-2 uiuc-orange text-lg uppercase tracking-widest font-semibold">University of Illinois Urbana-Champaign</p>
            
            <!-- Navigation Links -->
            <div class="mt-8 flex flex-wrap items-center justify-center gap-4">
                <a href="syllabus.pdf" target="_blank" class="btn-outline px-6 py-2.5 rounded-full font-bold text-sm flex items-center">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                    Course Syllabus
                </a>

                <a href="https://coecsl.ece.illinois.edu/se423/" target="_blank" class="btn-course px-6 py-2.5 rounded-full font-bold text-sm shadow-lg flex items-center">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                    </svg>
                    Official Website
                </a>
                
                <a href="https://github.com/Marius-Juston/SE-423---Class-Material" target="_blank" class="bg-white/10 hover:bg-white/20 px-6 py-2.5 rounded-full font-bold text-sm transition-all flex items-center border border-white/20">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                        <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" />
                    </svg>
                    Class Repo
                </a>
            </div>

            <div class="mt-8 flex justify-center">
                <input type="text" id="pdfSearch" placeholder="Search assignments, labs, lectures, or resources..." 
                       class="px-4 py-3 w-full max-w-2xl rounded-xl text-gray-900 dark:text-white dark:bg-slate-900 shadow-inner focus:outline-none focus:ring-2 focus:ring-orange-500 border-0">
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-12 flex-grow">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-12 mb-16">
            
            <!-- Homework Section -->
            <section class="assignment-category">
                <div class="flex items-center space-x-2 mb-6 border-b-2 border-uiuc-orange pb-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 uiuc-orange" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                    </svg>
                    <h2 class="text-2xl font-bold uiuc-blue dark:text-slate-100">Homework</h2>
                </div>
                <div id="hw-list" class="space-y-4"></div>
            </section>

            <!-- LabVIEW Assignments -->
            <section class="assignment-category">
                <div class="flex items-center space-x-2 mb-6 border-b-2 border-uiuc-orange pb-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 uiuc-orange" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" />
                    </svg>
                    <h2 class="text-2xl font-bold uiuc-blue dark:text-slate-100">LabVIEW</h2>
                </div>
                <div id="labview-list" class="space-y-4"></div>
            </section>

            <!-- Lab Assignments -->
            <section class="assignment-category">
                <div class="flex items-center space-x-2 mb-6 border-b-2 border-uiuc-orange pb-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 uiuc-orange" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.628.288a2 2 0 01-1.18.158l-1.318-.216a2 2 0 00-1.18.158l-.628.288a6 6 0 00-3.86.517l-2.387.477a2 2 0 00-1.022.547V18a2 2 0 002 2h11a2 2 0 002-2v-2.572zM19 11V9a2 2 0 00-2-2H5a2 2 0 00-2 2v2a2 2 0 002 2h14a2 2 0 002-2z" />
                    </svg>
                    <h2 class="text-2xl font-bold uiuc-blue dark:text-slate-100">Laboratory</h2>
                </div>
                <div id="lab-list" class="space-y-4"></div>
            </section>
        </div>

        <div class="mb-8">
            <div class="flex flex-col md:flex-row md:items-end justify-between mb-6 border-b-2 border-uiuc-orange pb-3 space-y-4 md:space-y-0">
                <div class="flex items-center space-x-3">
                    <svg class="h-7 w-7 uiuc-orange" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                    <h2 class="text-3xl font-bold uiuc-blue dark:text-slate-100">Lecture Slides</h2>
                </div>
                
                <div class="flex items-center space-x-3">
                    <!-- Media Buttons Integrated Here -->
                    <div class="flex items-center gap-2">
                        <a href="https://mediaspace.illinois.edu/channel/SE%2B423%253A%2BMechatornics%2BSpring%2B2026/399580233" target="_blank" title="MediaSpace Recordings" class="p-2 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-500 hover:text-uiuc-orange border border-slate-200 dark:border-slate-700 transition-all shadow-sm">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                            </svg>
                        </a>
                        <a href="https://www.youtube.com/playlist?list=PLc6LuUpXlDnnyZrtYWuCMLDYuijEMPsBh" target="_blank" title="YouTube Animations" class="p-2 rounded-xl bg-red-50 dark:bg-red-900/20 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/40 border border-red-100 dark:border-red-900/30 transition-all shadow-sm">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                            </svg>
                        </a>
                    </div>

                    <!-- Lecture Count Badge -->
                    <div class="flex items-center space-x-2 bg-slate-100 dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm">
                        <span class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">Total</span>
                        <span class="text-sm font-bold text-uiuc-orange dark:text-uiuc-orange" id="lecture-count-display">0</span>
                    </div>

                    <!-- Format Toggle -->
                    <div class="flex items-center space-x-3 bg-white dark:bg-slate-900 p-2 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm">
                        <span class="text-xs font-bold text-slate-500 uppercase tracking-tighter" id="label-pdf">PDF</span>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="formatToggle" class="sr-only">
                            <div class="w-10 h-5 toggle-bg rounded-full"></div>
                            <div class="absolute left-1 top-1 bg-white w-3 h-3 rounded-full toggle-dot shadow-sm"></div>
                        </label>
                        <span class="text-xs font-bold text-slate-500 uppercase tracking-tighter" id="label-pptx">PPTX</span>
                    </div>
                </div>
            </div>
            
            <div id="lecture-list" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"></div>
        </div>
    </main>

    <footer class="bg-slate-100 dark:bg-slate-950 border-t border-slate-200 dark:border-slate-900 mt-12 py-6">
        <div class="container mx-auto px-4 text-center text-slate-600 dark:text-slate-400 text-sm">
            <p>&copy; 2026 UIUC Department of Industrial and Enterprise Systems Engineering</p>
            <p class="mt-1 italic">Designed for educational access within SE 423.</p>
        </div>
    </footer>

    <script>
        // --- THEME LOGIC ---
        const themeToggleBtn = document.getElementById('theme-toggle');
        const darkIcon = document.getElementById('theme-toggle-dark-icon');
        const lightIcon = document.getElementById('theme-toggle-light-icon');
        const htmlRoot = document.getElementById('html-root');

        function setTheme(isDark) {
            if (isDark) {
                htmlRoot.classList.add('dark');
                lightIcon.classList.remove('hidden');
                darkIcon.classList.add('hidden');
                localStorage.setItem('color-theme', 'dark');
            } else {
                htmlRoot.classList.remove('dark');
                darkIcon.classList.remove('hidden');
                lightIcon.classList.add('hidden');
                localStorage.setItem('color-theme', 'light');
            }
        }

        // Initialize theme
        const savedTheme = localStorage.getItem('color-theme');
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        
        if (savedTheme === 'dark' || (!savedTheme && systemPrefersDark)) {
            setTheme(true);
        } else {
            setTheme(false);
        }

        themeToggleBtn.addEventListener('click', () => {
            setTheme(!htmlRoot.classList.contains('dark'));
        });


        /**
         * Data Schema:
         * items: Array of objects
         * - title: Main text
         * - file: Primary PDF link
         * - links: Optional array of { label: string, url: string }
         */
        const data = {
            hw: [
                { 
                    title: "Homework 1: Setup & Soldering", 
                    file: "Homeworks/HW1.pdf",
                    links: [
                        { label: "Using Lab Repository (pdf)", url: "https://coecsl.ece.illinois.edu/se423/Using%20the%20SE423%20Repository.pdf" },
                        { label: "Using Lab Repository (Word)", url: "https://coecsl.ece.illinois.edu/se423/Using%20the%20SE423%20Repository.docx" },
                        { label: "Tera Term", url: "https://github.com/TeraTermProject/teraterm/releases" },
                        { label: "Commenting your Code, Example", url: "https://coecsl.ece.illinois.edu/se423/CommentingCodeExample.pdf" }
                    ]
                },
                { 
                    title: "Homework 2: PWM Control", 
                    file: "Homeworks/HW2.pdf",
                    links: [
                        { label: "PinMux Table for HW Board (pdf)", url: "https://coecsl.ece.illinois.edu/se423/hw/PinMuxTableF28379DLaunchPad.pdf" },
                        { label: "PinMux Table for HW Board (xlsx)", url: "https://coecsl.ece.illinois.edu/se423/hw/PinMuxTableF28379DLaunchPad.xlsx" },
                        { label: "ADC Condensed Reference", url: "https://coecsl.ece.illinois.edu/se423/ADC_Peripheral.pdf" },
                        { label: "PWM Condensed Reference", url: "https://coecsl.ece.illinois.edu/se423/EPWM_Peripheral.pdf" },
                        { label: "SPI Condensed Reference", url: "https://coecsl.ece.illinois.edu/se423/SPICondensed_TechRef.pdf" },
                        { label: "F28379D Full Reference", url: "https://coecsl.ece.illinois.edu/se423/tms320f28379D_TechRefi.pdf" },
                        { label: "Commenting your Code, Example", url: "https://coecsl.ece.illinois.edu/se423/CommentingCodeExample.pdf" }
                    ] 
                },
                { 
                    title: "Homework 3: IMU & State Machine", 
                    file: "Homeworks/HW3.pdf" ,
                    links: [
                        { label: "SPI Condensed Reference", url: "https://coecsl.ece.illinois.edu/se423/SPICondensed_TechRef.pdf" },
                        { label: "MPU-9250: DataSheet", url: "https://coecsl.ece.illinois.edu/se423/MPU-9250_Register_Map_10072015.pdf" },
                        { label: "MPU-9250: Registers", url: "https://coecsl.ece.illinois.edu/se423/MPU-9250-Register-Map.pdf" },
                        { label: "MPU-9250: Addendum/Examples", url: "https://coecsl.ece.illinois.edu/se423/MPU-9250-Addendum.pdf" },
                        { label: "PinMux Table for HW Board (pdf)", url: "https://coecsl.ece.illinois.edu/se423/hw/PinMuxTableF28379DLaunchPad.pdf" },
                        { label: "PinMux Table for HW Board (xlsx)", url: "https://coecsl.ece.illinois.edu/se423/hw/PinMuxTableF28379DLaunchPad.xlsx" },
                        { label: "PWM Condensed Reference", url: "https://coecsl.ece.illinois.edu/se423/EPWM_Peripheral.pdf" },
                        { label: "F28379D Full Reference", url: "https://coecsl.ece.illinois.edu/se423/tms320f28379D_TechRefi.pdf" },
                        { label: "State Machine Example", url: "https://coecsl.ece.illinois.edu/se423/lecturenotes/KuriStateMachineExample.pdf" }
                    ]
                },{
                    title: "Homework 4: Linux & Interrupts", 
                    file: "Homeworks/HW4.pdf" 
                },{ 
                    title: "Homework 5: Personal Project", 
                    file: "Homeworks/HW5.pdf" 
                },{ 
                    title: "Homework 6: A* & Kalman Filters", 
                    file: "Homeworks/HW6.pdf" 
                },
            ],
            labview: [
                { 
                    title: "LabVIEW 1: Tutorial", 
                    file: "Homeworks/LabVIEW1.pdf",
                },
                { 
                    title: "LabVIEW 2: TCP Ethernet Protocol", 
                    file: "Homeworks/LabVIEW2.pdf",
                    links: [
                        { label: "Python Echo Server", url: "https://coecsl.ece.illinois.edu/se423/tcp_echoserver.zip" }
                    ]
                },
                { 
                    title: "LabVIEW 3: Real-time Control Loops", 
                    file: "Homeworks/LabVIEW3.pdf",
                },
                { 
                    title: "LabVIEW 4: SubVI & Conditional Statements", 
                    file: "Homeworks/LabVIEW4.pdf",
                },
            ],
            labs: [
                { 
                    title: "Lab 1: Introduction to Programming the Robot Car's TMS320F28379D Processor", 
                    file: "https://coecsl.ece.illinois.edu/se423/SE423_Lab1.pdf" ,
                     links: [
                        { label: "Using the Lab Repository", url: "https://coecsl.ece.illinois.edu/se423/Using%20the%20SE423%20Repository.docx" },
                        { label: "Lab PinMux Table", url: "https://coecsl.ece.illinois.edu/se423/Lab_PinMuxTableF28379DLaunchPadSE423Robot.pdf" },
                    ]
                },
                    { 
                    title: "Lab 2: Introduction to Raspberry PI4 and TMS320F28379D GPIO Programming", 
                    file: "https://coecsl.ece.illinois.edu/se423/SE423_Lab2.pdf" ,
                     links: [
                        { label: "Commenting your Code, Example", url: "https://coecsl.ece.illinois.edu/se423/CommentingCodeExample.pdf" },
                    ]
                },
                                { 
                    title: "Lab 3: Pulse-Width Modulation, Optical Encoders and Friction Compensation", 
                    file: "https://coecsl.ece.illinois.edu/se423/SE423_Lab3.pdf" ,
                     links: [
                        { label: "Lab PinMux Table", url: "https://coecsl.ece.illinois.edu/se423/Lab_PinMuxTableF28379DLaunchPadSE423Robot.pdf" },
                        { label: "EPWM Condensed Reference", url: "http://coecsl.ece.illinois.edu/SE423/EPWM_Peripheral.pdf" },
                        { label: "F28379D Full Technical Reference", url: "http://coecsl.ece.illinois.edu/SE423/tms320f28379D_TechRefi.pdf" },
                        { label: "Commenting your Code, Example", url: "https://coecsl.ece.illinois.edu/se423/CommentingCodeExample.pdf" },
                    ]
                },
                                { 
                    title: "Lab 4: Hardware Interrupts, ADC (Analog to Digital Converter), Sampling, Filtering and the FFT (Fast Fourier Transform)", 
                    file: "https://coecsl.ece.illinois.edu/se423/SE423_Lab4.pdf" ,
                     links: [
                        { label: "ADC Condensed Reference", url: "https://coecsl.ece.illinois.edu/se423/ADC_Peripheral.pdf" },
                        { label: "EPWM Condensed Reference", url: "http://coecsl.ece.illinois.edu/SE423/EPWM_Peripheral.pdf" },
                        { label: "Lab PinMux Table", url: "https://coecsl.ece.illinois.edu/se423/Lab_PinMuxTableF28379DLaunchPadSE423Robot.pdf" },
                        { label: "F28379D Full Technical Reference", url: "http://coecsl.ece.illinois.edu/SE423/tms320f28379D_TechRefi.pdf" },
                    ]
                },
                                { 
                    title: "Lab 5: DC Motor PI Speed Control and Robot Steering", 
                    file: "https://coecsl.ece.illinois.edu/se423/SE423_Lab5.pdf" 
                },
                                { 
                    title: "Lab 6: LADAR Sensor, LABVIEW/RPI4/Linux Communication, Wall Following and Dead Reckoning", 
                    file: "https://coecsl.ece.illinois.edu/se423/SE423_Lab6.pdf" ,
                     links: [
                        { label: "URG-04LX LADAR Datasheets", url: "http://coecsl.ece.illinois.edu/se423/datasheets/ladar/" },
                        { label: "LPY510AL Dual-Axis (Pitch and Yaw) Gyro", url: "http://www.pololu.com/catalog/product/1267" },
                        { label: "Lab PinMux Table", url: "https://coecsl.ece.illinois.edu/se423/Lab_PinMuxTableF28379DLaunchPadSE423Robot.pdf" },
                    ]
                },{ 
                    title: "Lab 7: RC Servo Exercise", 
                    file: "https://coecsl.ece.illinois.edu/se423/Se423_Lab7FirstRCServos.pdf" 
                },
                 { 
                    title: "Lab 7: Robot Vision", 
                    file: "https://coecsl.ece.illinois.edu/se423/Se423_Lab7.pdf" ,
                     links: [
                        { label: "Intro. to Vision Processing", url: "http://coecsl.ece.uiuc.edu/se423/datasheets/vision.pdf" },
                        { label: "Laser distance measurement", url: "http://coecsl.ece.uiuc.edu/se423/datasheets/laser%20distance%20meassuring.pdf" },
                    ]
                },
                // { 
                //     title: "Lab 1: Introduction to Programming the Robot Car's TMS320F28379D Processor", 
                //     file: "Labs/Lab1.pdf" 
                // },
                // { 
                //     title: "Lab 2: Introduction to Raspberry PI4 and TMS320F28379D GPIO Programming", 
                //     file: "Labs/Lab2.pdf" 
                // },
                // { 
                //     title: "Lab 3: Introduction to Programming the Robot Car's TMS320F28379D Processor", 
                //     file: "Labs/Lab3.pdf" 
                // },
            ],
            lectures: [{
                title: `Lecture 1: Introduction`,
                basePath: `Lectures/Slides/L1`,
                topic: `Introduction` // Can be updated with real titles
            },{
                title: `Lecture 2: Peripherals`,
                basePath: `Lectures/Slides/L2`,
                topic: `Peripherals,GPIO,Timer,Binary,Hex` // Can be updated with real titles
            },{
                title: `Lecture 3: GPIO`,
                basePath: `Lectures/Slides/L3`,
                topic: `GPIO,LED,pull up,push button,push pull, pull down,digital input,digital output,GitHub` // Can be updated with real titles
            }],
        };

        let currentFormat = 'pdf';

        function updateLectureUI() {
            const container = document.getElementById('lecture-list');
            const pdfLabel = document.getElementById('label-pdf');
            const pptxLabel = document.getElementById('label-pptx');

            document.getElementById('lecture-count-display').textContent = data.lectures.length;

            // Update Labels
            if (currentFormat === 'pdf') {
                pdfLabel.classList.add('uiuc-orange');
                pptxLabel.classList.remove('uiuc-orange');
            } else {
                pptxLabel.classList.add('uiuc-orange');
                pdfLabel.classList.remove('uiuc-orange');
            }

            container.innerHTML = data.lectures.map(item => {
                const url = `${item.basePath}.${currentFormat}`;
                const iconColor = currentFormat === 'pdf' ? 'text-red-500' : 'text-orange-500';
                
                return `
                    <a href="${url}" target="_blank" class="searchable-item flex flex-col items-center justify-center p-4 bg-white rounded-xl border border-gray-200 card-transition text-center dark:bg-slate-900 dark:border-slate-800" data-title="${item.title.toLowerCase()},${item.topic.toLowerCase()}">
                        <div class="${iconColor} mb-2">
                            ${currentFormat === 'pdf' ? 
                                `<svg class="h-8 w-8" fill="currentColor" viewBox="0 0 20 20"><path d="M9 2a2 2 0 00-2 2v8a2 2 0 002 2h6a2 2 0 002-2V6.414A2 2 0 0016.414 5L14 2.586A2 2 0 0012.586 2H9z" /><path d="M3 8a2 2 0 012-2v10h8a2 2 0 01-2 2H5a2 2 0 01-2-2V8z" /></svg>` :
                                `<svg class="h-8 w-8" fill="currentColor" viewBox="0 0 20 20"><path d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z" /><path d="M6 10h8v2H6v-2zm0 4h8v2H6v-2z" /></svg>`
                            }
                        </div>
                        <span class="text-xs font-bold text-gray-800 dark:text-slate-100">${item.title}</span>
                        <span class="text-[10px] text-gray-400 mt-1 uppercase font-semibold">${currentFormat}</span>
                    </a>
                `;
            }).join('');
        }


        function renderList(targetId, items) {
            const container = document.getElementById(targetId);
            container.innerHTML = items.map(item => {
                // Generate optional links HTML
                const extraLinksHtml = item.links ? `
                    <div class="mt-3 pt-3 border-t border-gray-100 flex flex-wrap gap-2">
                        ${item.links.map(link => `
                            <a href="${link.url}" class="text-xs px-2 py-1 bg-gray-100 text-gray-600 dark:text-gray-200 rounded hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors flex items-center">
                                <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"></path></svg>
                                ${link.label}
                            </a>
                        `).join('')}
                    </div>
                ` : '';

                const linkValueList =  item.links? "," + item.links.map(link => link.label.toLowerCase()).join(', ') : '';

                return `
                    <div class="bg-white dark:bg-slate-900 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-slate-800 card-transition flex flex-col searchable-item" data-title="${item.title.toLowerCase()+linkValueList}">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-bold text-gray-800 dark:text-slate-100 leading-tight">${item.title}</h3>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-300 dark:text-gray-600 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
                            </svg>
                        </div>
                        
                        <a href="${item.file}" target="_blank" class="mt-2 inline-flex items-center text-sm font-semibold uiuc-orange pdf-link">
                            View Assignment PDF
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                            </svg>
                        </a>

                        ${extraLinksHtml}
                    </div>
                `;
            }).join('');
        }

        // Initial Render
        updateLectureUI();
        renderList('hw-list', data.hw);
        renderList('labview-list', data.labview);
        renderList('lab-list', data.labs);

        // Toggle Event Listener
        document.getElementById('formatToggle').addEventListener('change', (e) => {
            currentFormat = e.target.checked ? 'pptx' : 'pdf';
            updateLectureUI();
        });

        // Search Logic
        document.getElementById('pdfSearch').addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            const items = document.querySelectorAll('.searchable-item');
            items.forEach(item => {
                const title = item.getAttribute('data-title');
                item.style.display = title.includes(term) ? 'flex' : 'none';
            });
        });
    </script>
</body>
</html>
